version: "3"

services: 
  mysqldb:
   container_name: mysqldb
   image: docker.io/mysql/mysql-server:8.0
   restart: unless-stopped
   ports:
    - 3307:3306
   environment:
    MYSQL_USER: root
    MYSQL_DATABASE: achatdb
    MYSQL_ROOT_PASSWORD: pass
   volumes:
    - /home/mysql/data:/var/lib/mysql
    
    
  spring_app:
   image: wael22122212/achatapp:latest 
   container_name: achatprojet
   restart: on-failure
   ports:
    - 8089:8089
   depends_on:
    - mysqldb   
   